# Configuração do Render.com usando Supabase como banco de dados
# Este arquivo é uma alternativa ao render.yaml padrão
# Use este arquivo se você estiver usando Supabase em vez do PostgreSQL do Render

services:
  # Web Service (Backend + Frontend)
  - type: web
    name: gestao-financeira-app
    env: node
    region: oregon  # Escolha a região mais próxima: oregon, frankfurt, singapore
    plan: free
    buildCommand: npm install && npm run build
    startCommand: npm start
    envVars:
      - key: NODE_ENV
        value: production
      - key: DATABASE_URL
        # IMPORTANTE: Configure esta variável no painel do Render.com
        # com a URL de conexão do Supabase (Transaction mode, porta 6543)
        # Exemplo: postgresql://postgres.[PROJECT-REF]:[PASSWORD]@aws-0-[REGION].pooler.supabase.com:6543/postgres
        sync: false
      - key: SESSION_SECRET
        generateValue: true
      - key: PORT
        value: 10000
    healthCheckPath: /api/auth/me

# INSTRUÇÕES DE USO:
# 
# 1. Crie um projeto no Supabase (https://supabase.com)
# 2. Obtenha a Connection String (Settings > Database > Transaction mode)
# 3. No Render.com, ao criar o serviço:
#    - Selecione este repositório
#    - Vá em "Environment" e adicione a variável DATABASE_URL com a URL do Supabase
# 4. O Render irá fazer o deploy automaticamente
# 
# VANTAGENS DE USAR SUPABASE:
# - Banco de dados gerenciado e otimizado
# - Interface visual para gerenciar dados
# - Backups automáticos
# - Melhor performance
# - Plano gratuito mais generoso
